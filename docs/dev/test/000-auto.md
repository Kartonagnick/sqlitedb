
Тестирование функциональности
-----------------------------

## staff
  - [x] Требования:  
    - [x] Располагается: `staff_sqlitedb`  
    - [x] Алиас: `staff`  
    - [x] assert(filename);  
    - [x] assert(!filename.empty());  
  - [x] Тесты `staff::openRead`  
  - [x] Тесты `staff::openWrite`  
  - [x] Тесты `staff::fileExists`  
  - [x] Тесты `staff::fileDelete`  
  - [x] Тесты `staff::dbaseDelete`  
  - [x] Тесты `staff::makeTableAge`  

<br />
<br />







## management
  - [x] Требования:  
    - [x] assert(filename);  
    - [x] assert(!filename.empty());  
  - [x] Тесты служебной функции **db::exists**  
  - [x] Тесты служебной функции **db::remove**  
  - [x] Тесты API функции [db::availableDatabase][0]
  - [x] Тесты API функции [db::existDatabase][1]
  - [x] Тесты API функции [db::existTable][2]
  - [x] Тесты API функции [db::existColumn][3]
  - [x] Тесты API функции [db::dropDatabase][4]
  - [x] Тесты API функции [db::dropTable][5]
  - [ ] Тесты API функции [db::dropColumn][6]

<br />
<br />

[0]: ../arch/001-management.md/#availableDatabase  
[1]: ../arch/001-management.md/#existDatabase
[2]: ../arch/001-management.md/#existTable
[3]: ../arch/001-management.md/#existColumn
[4]: ../arch/001-management.md/#dropDatabase
[5]: ../arch/001-management.md/#dropTable
[6]: ../arch/001-management.md/#dropColumn





## connect
  - [ ] [db::connect][7]
    - [x] eREADWRITE
    - [x] eREADONLY
    - [ ] eOPEN_URI
    - [x] eCREATE
  - [x] [db::connection][8]
    - [x] Создание  
    - [x] Копирование  
    - [x] Перемещение  
    - [x] Присвоение  

<br />
<br />

[7]: ../arch/002-connect.md/#connect
[8]: ../arch/003-connection.md/#Конструкторы




## table/column
  - [x] [db::connect::existTable][9]
  - [x] [db::connect::existColumn][10]
  - [x] [db::connect::dropTable][11]
  - [ ] [db::connect::dropColumn][12]

<br />
<br />

[9]:  ../arch/003-connection.md/#existTable
[10]: ../arch/003-connection.md/#existColumn
[11]: ../arch/003-connection.md/#dropTable
[12]: ../arch/003-connection.md/#dropColumn




## connection
  - [x] [db::connect::operator<<(sql)][13]  
    - assert защита:  
      - [x] В качестве SQL запроса используем nullptr  
      - [x] В качестве SQL запроса используем пустую строку.  
    - [x] Должен бросить исключение:  
      - [x] В качестве SQL запроса используем бессмысленный набор букв,  

<br />
<br />

[13]:  ../arch/003-connection.md/#operator-sql






## type_safe
  - [x] Тест записи и чтение данных:  
    - [x] Имя: `request/test-content(000)`  
    - [x] Создаём несколько таблиц:  
      - [x] В каждую таблицу добавляем несколько строк в цикле.  
      - [x] А потом считываем их  
      - [x] Исходные и полученные данные должны быть идентичны.  


  - [x] Тест безопасности типов PRIMARY KEY:  
    - [x] Имя: `request/test-content(001)`  
    - [x] Создаём таблицу  
      - [x] Добавляем строку, используя некорректный тип для PRIMARY KEY.  
      - [x] [request::operator<<][14] должен бросить исключение.  


  - [x] Тест [отсутствия безопасности типов для всех остальных столбцов][14]:  
    - [x] Имя: `request/test-content(002)`  
    - [x] Создаём таблицу со столбцами типа INTEGER.  
      - [x] Вместо числа вставляем текст:  
        - [x] Добавляем строку, используя значение (1, 'text')  
      - [x] Вставка 'text' в столбик типа INTEGER должна пройти [успешно][14]  


  - [x] Тест [отсутствия безопасности типа получателя данных][15]:  
    - [x] Имя: `request/test-content(003)`  
    - [x] Создаём таблицу  
      - [x] Добавляем туда 10 строк.  
      - [x] Запрашиваем кол-во строк в таблице.  
        - [x] В качестве получателя данных указываем 'size_t'  
          - [x] В результате получаем числовое значение равное 10  
        - [x] В качестве получателя данных указываем 'std::string'  
          - [x] В результате получаем текстово значение равное `10`  

<br />
<br />

[14]:  ../arch/004-request.md/#operator-in
[15]:  ../arch/004-request.md/#operator-out

## variable
  - [x] Тест [получения одночного значения][16].  
    - [x] Запрашиваем одно значение и получаем одно значение  
    - [x] Запрашиваем строку и получаем значение первого столбца  
    - [x] Запрашиваем множество строк:  
      - [x] В реализе получаем значение первого столбца первой строки  
      - [x] В дебаге должен сработать ассерт  
    - [x] Запрашиваем пустую строку:  
      - [x] В дебаге -> ассерт  
      - [x] В релизе -> исключение.  

<br />
<br />

[16]:  ../arch/004-request.md/#Получателем-данных-может-быть-одиночная-переменная





## tuple  
  - [x] Тест [работы с std::tuple][17].  
    - [x] Количество строк - одна:  
      - [x] Количество параметров tuple совпадает с количеством столбцов в ответе.  
      - [x] Количество параметров tuple меньше, чем количество столбцов в ответе.  
        - [x] Лишние столбцы игнорируются.  
      - [x] Количество параметров tuple больше, чем количество столбцов в ответе.  
        - [x] В в релизе -> исключение.  
        - [x] В дебаге -> assert.  
    - [x] Количество строк больше одной:  
        - [x] В в релизе -> используется значение первой строки, остальные игнорируются.  
        - [x] В дебаге -> assert.  
    - [x] База прислала пустой ответ.  
        - [x] Исходный std::tuple остаётся без изменений.  
    - [x] Был использован пустой `std::tuple<>`.  
        - [x] Ошибка компиляции: `not support: zero params of tuple`  
  - [x] Тест [работы с std::tie][18].  
    - [x] Количество строк - одна:  
      - [x] Количество параметров tuple совпадает с количеством столбцов в ответе.  
      - [x] Количество параметров tuple меньше, чем количество столбцов в ответе.  
        - [x] Лишние столбцы игнорируются.  
      - [x] Количество параметров tuple больше, чем количество столбцов в ответе.  
        - [x] В в релизе -> исключение.  
        - [x] В дебаге -> assert.  
    - [x] Количество строк больше одной:  
        - [x] В в релизе -> используется значение первой строки, остальные игнорируются.  
        - [x] В дебаге -> assert.  
    - [x] База прислала пустой ответ.  
        - [x] Исходный std::tuple остаётся без изменений.  
    - [x] Был использован пустой `std::tie()`.  
        - [x] Ошибка компиляции: `not support: zero params of tuple`  

<br />
<br />

[18]:  ../arch/004-request.md/#Получателем-данных-может-быть-stdtie






## lambda  
  - [x] Тест [работы с лямбдой][19].  
    - [x] Количество строк - одна:  
      - [x] Количество аргументов лямды совпадает с количеством столбцов в ответе.  
      - [x] Количество аргументов лямды меньше, чем количество столбцов в ответе.  
        - [x] Лишние столбцы игнорируются.  
      - [x] Количество аргументов лямды больше, чем количество столбцов в ответе.  
        - [x] В в релизе -> исключение.  
        - [x] В дебаге -> assert.  
    - [x] Количество строк больше одной:  
        - [x] Лямбда возвращает true, и получает на обработку ещё одну строчку.  
        - [x] Лямбда возвращает false, и обработка строк сразу же завершается.  
    - [x] База прислала пустой ответ.  
        - [x] Лямбда не вызывается.  
    - [x] Лямбды без аргументом запрещена:  
        - [x] Ошибка компиляции: `not support: zero arguments of callback`  

<br />
<br />

[19]:  ../arch/004-request.md/#Получателем-данных-может-быть-лямбда  




## container  
  - [ ] Тесты работы с контейнерами.  

<br />
<br />





## serialize  
  - [ ] Тесты работы с пользовательскими типами.  

<br />
<br />






