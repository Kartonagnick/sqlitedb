
iterator  
--------


Служебный вспомогательный класс.  

Позволяет получать данные для одиночной переменной или для std::tuple.

С помощью `iterator`, класс-наследник `cursor` в цикле выгребает данные для одиночной переменной или для std::tuple.  


Требования к классу:  
  - [x] хэдер не должен зависить от других хэдэров библиотеки.  
  - [x] все методы класса статические.  
  - [x] все методы класса приватные.  
  - [x] класс не должен использвать мутексы.  

Конструктор:  
  - [x] [iterator(request&)][0]  

Основные методы класса:  
  - [x] [dFOR_(variable) get(dst)][1]  
  - [x] [dFOR_(tuple) get(dst)][2]  
  - [x] [dFOR_(container) get(dst)][3]  
  - [x] [dFOR_(lambda) get(dst)][4]  


Вспомогательные методы касса:
  - [x] [check][5]  

Вспомогательные методы касса:
  - [x] [tupleForeach(tuple)][6]  
  - [x] [tupleForeachImpl(tuple, seq)][6]  

[0]: #Конструктор     "конструктор класса"  
[1]: #Variable        "в ответ на запрос ожидаем одно единственное значение"  
[2]: #tuple           "получаем таблицу из одной единственной строки"  
[3]: #Контейнер       "фиктивный метод. не должен быть вызван"  
[4]: #Лямбда          "фиктивный метод. не должен быть вызван"  
[5]: #check           "проверка количества столбцов"  
[6]: #tupleForeach    "раскрутка std::tuple"  

<br />
<br />

Конструктор
-----------
```
    iterator(request& owner) noexcept;
```
- [x] Гарантирует noexcept (no-throw guarantee).  
- [x] Инициализиует поле-ссылку.  
  - [x] По этой причине класс не подерживает new(placement)  

<br />
<br />








Variable
--------
Извлекает одиночное значение из ответа базы.

```cpp
    template<class T>
    dFOR_(variable) get(T& dst) const;
```

- [x] Может бросить исключение.  
- [x] Один раз делает проверку количества столбцов.
- [x] Не делает проверку кол-ва строк.

<br />
<br />



tuple
-----
Извлекает строку значение из ответа базы.  

```cpp
    template<class T>
    dFOR_(tuple) get(T& dst) const
```

- [x] Может бросить исключение.  
- [x] Не делает проверку кол-ва строк.
- [x] Один раз делает проверку количества столбцов.
- [x] `std::tuple<>` без параметров запрещен времени компиляции.  

<br />
<br />





Контейнер
---------
Фиктивный метод. не должен быть вызван.  

Лямбда
------
Фиктивный метод. не должен быть вызван.  

<br />
<br />




tupleForeach
------------
Времени компиляции определяет параметры std::tuple.  
И под эти параметры запрашивает у request данные.  

```
template <class Tuple, size_t... i>
void tupleForeachImpl(
    Tuple&& tuple, 
    const ::std::index_sequence<i...>
) const;

template <class Tuple> 
void tupleForeach(Tuple&& tuple) const;
```




check
-----
Выполняет проверку кол-ва столбцов.  

```
    void check(const size_t args, const char* dsc) const;
```

Здесь:  
 - args - количество аргументов у приёмника  
 - dsc - тестовое описание контекса испоьзования.  
   - добавляется к тексту ошибки, что бы потом можно было понять,
     где именно возникла проблема.  

- [x] Может бросить исключение.  
- [x] Если `args` больше чем кол-во столбцов
  - [x] в дебаге -> assert
  - [x] в релизе -> exception

