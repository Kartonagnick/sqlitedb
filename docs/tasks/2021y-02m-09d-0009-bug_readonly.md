
| дата начала         |   дата конца        | длительность   | исполнитель  |
|:-------------------:|:-------------------:|:--------------:|:------------:|
| 2021y-02m-11d 18:20 | 2021y-02m-11d 20:20 | 2 hours        | Kartonagnick |

Исправление бага  
----------------

Когда у соединения завершается время жизни, 
`db::device` в деструкторе запускает функцию `sqlite3_wal_checkpoint_v2`.  
Если соединение было открыто в режиме `eREADONLY`, то чек-поинт потерпит неудачу.  

Нужно выполнять проверку: 
  - [x] соединения в режиме `eREADONLY` не делают  `sqlite3_wal_checkpoint_v2`  
  - [x] соединения в режиме `eREADONLY` не делают  `VACUUM;ANALYZE`  

Категорически не нужно запускать чек-поинты каждый раз при дисконнекте.  
Эти чек-поинты будут блокировать базу,  
и тем самым мешать работе других соединений.  

Вместо этого, нужно предоставить глобальную функцию,  
которая будет запускать сервисное обслуживание базы.  

- [x] Исправить деффекты.  
- [x] Обновить документацию.  
- [x] Проверить сборку.  

Журнал  
------

[2021y-02m-11d 18:20] [2021y-02m-11d 18:35] 15 min  
 - [x] заняла подготовка к заданию.  

[2021y-02m-11d 18:35] [2021y-02m-11d 19:10] 15 min  
 - [x] новый метод cleanDB.  
 - [x] рефактор кода.  
 - [x] тесты.  

[2021y-02m-11d 19:10] [2021y-02m-11d 19:35] 25 min  
 - [x] тест сборки.  

[2021y-02m-11d 19:35] [2021y-02m-11d 20:20] 45 min  
 - [x] закончил документацию.  
 - [x] подправил тесты.  

